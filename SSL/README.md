# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ `generate_ssl_opc.sh`

–¶–µ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î SSL-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ –¥–ª—è OPC-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é OpenSSL.

## 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
–ü–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π OpenSSL. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–º—É —Ä—è–¥–∫—É Windows (PowerShell –∞–±–æ CMD):

```powershell
openssl version
```

–Ø–∫—â–æ OpenSSL –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –π–æ–≥–æ –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É:

üîó [https://slproweb.com/products/Win32OpenSSL.html](https://slproweb.com/products/Win32OpenSSL.html)

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–¥–∞–π—Ç–µ OpenSSL —É –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `PATH`, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `openssl` –∑ –±—É–¥—å-—è–∫–æ—ó –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó.

---

## 2. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

1. –°–∫–∞—á–∞–π—Ç–µ –∞–±–æ —Å–∫–æ–ø—ñ—é–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `generate_ssl_opc.sh` —É –ø–æ—Ç—Ä—ñ–±–Ω—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é.
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **PowerShell** –∞–±–æ **–ö–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫ (CMD)** –≤—ñ–¥ —ñ–º–µ–Ω—ñ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Å–∫—Ä–∏–ø—Ç:
   ```powershell
   cd C:\—à–ª—è—Ö\–¥–æ\—Å–∫—Ä–∏–ø—Ç–∞
   ```
4. –í–∏–∫–æ–Ω–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —á–µ—Ä–µ–∑ `Git Bash` –∞–±–æ `WSL` (—è–∫—â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ):
   ```bash
   bash generate_ssl_opc.sh
   ```
   –Ø–∫—â–æ —É –≤–∞—Å –Ω–µ–º–∞—î Linux-–æ—Ç–æ—á–µ–Ω–Ω—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ OpenSSL –≤—Ä—É—á–Ω—É (–¥–∏–≤. –≤–º—ñ—Å—Ç —Å–∫—Ä–∏–ø—Ç–∞).

---

## 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ–≤–∏–Ω–Ω—ñ –∑'—è–≤–∏—Ç–∏—Å—è —Ñ–∞–π–ª–∏ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ —É —Ç—ñ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó:
- `ca.crt` ‚Äî –∫–æ—Ä–µ–Ω–µ–≤–∏–π —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
- `ca.key` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á CA
- `server.crt` ‚Äî —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `server.key` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á —Å–µ—Ä–≤–µ—Ä–∞
- `server.csr` ‚Äî –∑–∞–ø–∏—Ç –Ω–∞ –ø—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞

–©–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ó—Ö –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —É Windows:

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–Ω–µ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
```powershell
openssl x509 -in ca.crt -text -noout
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –∫–ª—é—á–∞ —Ç–∞ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
```powershell
openssl x509 -noout -modulus -in server.crt | openssl md5
openssl rsa -noout -modulus -in server.key | openssl md5
```
–Ø–∫—â–æ —Ö–µ—à—ñ –∑–±—ñ–≥–∞—é—Ç—å—Å—è, –∫–ª—é—á —ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –ø—ñ–¥—Ö–æ–¥—è—Ç—å –æ–¥–∏–Ω –¥–æ –æ–¥–Ω–æ–≥–æ.

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–ø–∏—Å—É —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
```powershell
openssl verify -CAfile ca.crt server.crt
```
–Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ `server.crt: OK`, –≤—Å–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## 4. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ —É OPC-—Å–µ—Ä–≤–µ—Ä—ñ

1. **–ü–µ—Ä–µ–º—ñ—Å—Ç—ñ—Ç—å —Ñ–∞–π–ª–∏** —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é OPC-—Å–µ—Ä–≤–µ—Ä–∞.
2. **–î–æ–¥–∞–π—Ç–µ `ca.crt` —É –¥–æ–≤—ñ—Ä–µ–Ω—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏** —á–µ—Ä–µ–∑ –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ Windows:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ `certmgr.msc`.
   - –£ —Ä–æ–∑–¥—ñ–ª—ñ `–î–æ–≤—ñ—Ä–µ–Ω—ñ –∫–æ—Ä–µ–Ω–µ–≤—ñ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π–Ω—ñ —Ü–µ–Ω—Ç—Ä–∏` —ñ–º–ø–æ—Ä—Ç—É–π—Ç–µ `ca.crt`.
3. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `server.crt` —Ç–∞ `server.key`** –¥–ª—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è.

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ OPC-—Å–µ—Ä–≤–µ—Ä –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è —á–µ—Ä–µ–∑ SSL/TLS.

